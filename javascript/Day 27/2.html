<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script src="jquery-1.11.3.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			//callbacks.add(),callbacks.remove(), callbacks.fire() and callbacks.disable()
			//一个多用途的回调列表对象，提供了强大的的方式来管理回调函数列表。 
			//可用的 flags: Callback参数列表，多个用空格分开
			//once: 确保这个回调列表只执行一次(像一个递延 Deferred). 
			//memory: 保持以前的值和将添加到这个列表的后面的最新的值立即执行调用任何回调 (像一个递延 Deferred). 
			//unique: 确保一次只能添加一个回调(所以有没有在列表中的重复). 
			//stopOnFalse: 当一个回调返回false 时中断调用 
			function fn1(){
				alert(1);
				return false;
			}
			function fn2(){
				alert(2);
			}
			function fn3(){
				alert(3);
			}
			//$.queue $.dequeue $.Deferred $.Callback
			//var $cb=$.Callbacks('memory once unique stopOnFalse');//创建callback对象。
			var $cb=$.Callbacks('');//创建callback对象。
			//$cb.add(fn1);//追加
			//$cb.add(fn1);//重复追加
			//$cb.remove(fn1);//移除回调函数
			//$cb.disable();//禁用
			//$cb.add(fn3);
			
			//$cb.fire();//触发
			//$cb.fire();//多次触发
			//$cb.add(fn2);  需要memory帮助
			
			function fn4(){
				setTimeout(function(){
					alert('4');
					$cb.fire();
				},2000);
			}
			
			fn4();
			$cb.add(fn3);
		</script>
	</body>
</html>
